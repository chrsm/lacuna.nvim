defcfg =
  docset_path: vim.fn.expand "~/doctest"
  sets:
    * {
      name: "lua",
      idx: "docSet.dsidx"
      file: vim.fn.expand "~/doctest/manual.html"
    }

lacuna = {}

lacuna.find = (parser, name) ->
  luap = require "parser.#{ parser }"
  p = luap "#{ defcfg.docset_path }/docSet.dsidx"

  set = p\query "os.time"
  error "no rows in set" unless #set>0

  vp = vim.fn.expand "~/doctest/manual.html"
  p\get vp, set[1]

export default lacuna
